/* Navigation Styles */
.navbar { background-color: var(--white) !important; border-bottom: 1px solid var(--medium-gray); padding: var(--space-md) 0; }
.navbar-brand { font-weight: var(--font-bold); font-size: var(--h5-size); color: var(--charcoal) !important; }
.nav-link { color: var(--charcoal) !important; font-weight: var(--font-medium); padding: var(--space-sm) var(--space-md) !important; border-radius: var(--radius-md); transition: all var(--transition-normal); }
.nav-link:hover { background-color: var(--carolina-blue); color: var(--charcoal) !important; }
.nav-link.active { background-color: var(--lapis-lazuli); color: var(--white) !important; }
.navbar-toggler { border: none; padding: var(--space-xs); }
.navbar-toggler:focus { box-shadow: none; outline: 2px solid var(--lapis-lazuli); outline-offset: 2px; }

@media (max-width: 768px) {
  .navbar-brand { font-size: var(--h6-size); }
  .navbar-collapse { margin-top: var(--space-md); }
  .nav-link { padding: var(--space-md) !important; margin-bottom: var(--space-xs); }
}


/* User menu (shared for Admin, Client, and Member) */
.user-menu { position: relative; display: inline-flex; align-items: center; gap: var(--space-sm); padding: var(--space-xs) var(--space-sm); border-radius: var(--radius-md); cursor: pointer; }
.user-menu:hover { background-color: var(--light-gray); }
.navbar .user-menu { margin-left: var(--space-md); }
.user-avatar { width: 32px; height: 32px; background-color: var(--carolina-blue); border-radius: var(--radius-full); display: inline-flex; align-items: center; justify-content: center; font-weight: var(--font-semibold); color: var(--charcoal); }
.user-info { display: flex; flex-direction: column; line-height: 1.1; }
.user-name { font-size: var(--body-small); font-weight: var(--font-medium); color: var(--charcoal); }
.user-role { font-size: var(--body-xs); color: var(--dark-gray); }

/* User dropdown panel */
.user-dropdown { position: absolute; top: 100%; left: 0; right: auto; margin-top: var(--space-sm); opacity: 0; visibility: hidden; transform: translateY(-10px); transform-origin: top left; transition: opacity var(--transition-normal), transform var(--transition-normal), visibility var(--transition-normal); z-index: 1000; }
.user-dropdown.active { opacity: 1; visibility: visible; transform: translateY(0); }

/* If the avatar sits at the far right edge inside a navbar, keep the menu within viewport */
.navbar .user-menu { position: relative; }
.navbar .user-dropdown { left: 0; right: auto; }

/* Admin layout specific positioning */
.admin-header .user-menu { position: relative; }
.admin-header .user-dropdown { right: 0; left: auto; }

/* Debug: Add a subtle border to help identify dropdown positioning issues */
.user-dropdown.active .dropdown-menu { 
    border: 1px solid var(--medium-gray); 
    box-shadow: 0 8px 24px rgba(0,0,0,0.12); 
    padding: var(--space-sm); 
}
.dropdown-menu { background: var(--white); border: 1px solid var(--medium-gray); border-radius: var(--radius-lg); padding: var(--space-sm); min-width: 200px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
/* Override Bootstrap default which hides dropdowns */
.user-dropdown .dropdown-menu { display: block; position: static; box-shadow: none; border: none; padding: 0; }
.user-dropdown.active .dropdown-menu { box-shadow: 0 8px 24px rgba(0,0,0,0.12); border: 1px solid var(--medium-gray); padding: var(--space-sm); }
.dropdown-item { display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm) var(--space-md); color: var(--charcoal); text-decoration: none; font-size: var(--body-small); border-radius: var(--radius-md); transition: background-color var(--transition-normal); }
.dropdown-item:visited { color: var(--charcoal); }
.dropdown-item:hover { background-color: var(--light-gray); }
.dropdown-divider { height: 1px; background-color: var(--medium-gray); margin: var(--space-sm) 0; }
.dropdown-button { border: none; background: none; width: 100%; text-align: left; cursor: pointer; }
.dropdown-logout-form { margin: 0; }


